{% extends "base.html" %}

{% block title %}ScheduleAssist{% endblock %}

<style>
  #techManagementSection {
  padding-bottom: 40px;
}

.tech-group h3 {
  font-weight: 600;
  border-bottom: 1px solid #ccc;
  padding-bottom: 4px;
}

.tech-group ul li select {
  background-color: #fff;
  border: 1px solid #ccc;
  font-size: 0.9rem;
}
</style>
{% block content %}
  <div class="main-container">
    <!-- Page header -->
    <h1 class="page-title">Scheduling Assistant</h1>

    <!-- Tech rows form -->
    <form method="post" id="scheduleForm">
      <div id="techRowsContainer"></div>

      <button type="button" id="addTechRowButton" class="primary-btn">+ Add Tech Row</button>

      <div class="weekday-container">
        <label class="weekday-label">Select Weekdays:</label>
        <div id="weekdaysContainer">
          <button type="button" class="weekday-button weekday-true" data-day="0">Mon</button>
          <button type="button" class="weekday-button weekday-true" data-day="1">Tue</button>
          <button type="button" class="weekday-button weekday-true" data-day="2">Wed</button>
          <button type="button" class="weekday-button weekday-true" data-day="3">Thu</button>
          <button type="button" class="weekday-button weekday-true" data-day="4">Fri</button>
        </div>
      </div>

      <div class="global-settings">
        <label for="start_time">Start time after:</label>
        <input type="time" id="start_time" name="start_time" min="08:30" max="16:30" value="08:30" required>

        <label class="rrsc-label">
          <input type="checkbox" id="rrsc" name="rrsc">
          Include RRSC
        </label>
      </div>

      <div id="hiddenInputsContainer"></div>
      <button type="submit" id="findDatesButton" class="primary-btn">Find Dates</button>
    </form>

    <!-- âœ… New Technician Management Section -->
    <hr style="margin: 40px 0;">
    <section id="techManagementSection">
      <h2 class="section-title">Technician Management</h2>
      <p class="section-description">Assign or reassign technicians to their proper types below. Changes are saved instantly.</p>

      <div id="techManagementContainer" class="tech-management-container">
        <!-- Technicians grouped by type will appear here -->
      </div>
    </section>
  </div>
{% endblock %}

{% block extra_scripts %}
  <script src="{{ url_for('static', filename='js/jobs_form.js') }}"></script>
{% endblock %}
