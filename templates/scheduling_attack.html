{% extends "base.html" %}
{% block title %}Scheduling Attack{% endblock %}

{% block content %}
<div class="sa-wrap" role="region" aria-labelledby="sa-title">
  <h1 id="sa-title">Annual Service Recurrences by Month</h1>

  <div class="sa-kpis">
    <div class="sa-kpi"><span class="value" id="kpi-total">0</span><span class="label">Total Locations</span></div>
    <div class="sa-kpi"><span class="value" id="kpi-hours">0</span><span class="label">Total Tech Hours (incl. travel)</span></div>
    <div class="sa-kpi"><span class="value" id="kpi-updated">â€”</span><span class="label">Last Updated</span></div>
  </div>

  <div class="sa-card">
    <div class="card-header">Locations per Month</div>
    <div class="card-body">
      <canvas id="srChart" class="sa-chart" aria-label="Service Recurrences per Month" role="img"></canvas>
    </div>
  </div>

  <div class="sa-card">
    <div class="card-header">Tech Hours per Month (incl. travel)</div>
    <div class="card-body">
      <canvas id="srHoursChart" class="sa-chart" aria-label="Tech Hours per Month (including travel)" role="img"></canvas>
    </div>
  </div>

  <div class="sa-card">
    <div class="card-header">Data Table</div>
    <div class="card-body sa-table-wrapper">
      <table class="sa-table" aria-describedby="sa-title">
        <thead>
          <tr>
            <th scope="col">Month</th>
            <th scope="col">Locations</th>
            <th scope="col">Tech Hrs (incl. travel)</th>
          </tr>
        </thead>
        <tbody id="srTableBody"></tbody>
      </table>
    </div>
  </div>
</div>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{{ url_for('static', filename='js/scheduling_attack.js') }}"></script>
{% endblock %}
